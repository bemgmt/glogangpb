<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>GLO GANG â€¢ Start</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <style>
    :root{
      --btn-bg:#1a1a1a;
      --btn-text:#ffd100;
      --btn-shadow:rgba(0,0,0,.45);
      --stroke:#000;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background-image: url(glogangpb.svg);
      font-family: ui-rounded, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      overflow:hidden;
      touch-action:manipulation;
    }
    .stage{
      position:relative;
      height:100%;
      width:100%;
      background-image:url("glogangpb.svg");
      background-size:cover;
      background-position:center;
      background-repeat:no-repeat;
      padding:env(safe-area-inset-top) env(safe-area-inset-right)
               env(safe-area-inset-bottom) env(safe-area-inset-left);
    }
    .corner{
      position:absolute;
      top:clamp(10px, 2.2vmin, 24px);
      width:clamp(40px, 6vmin, 64px);
      height:clamp(40px, 6vmin, 64px);
      display:grid; place-items:center;
      -webkit-tap-highlight-color: transparent;
      transition:transform .06s ease-out, filter .06s ease-out;
    }
    .corner:active{ transform:scale(.96); filter:brightness(.95) }
    .corner svg{ width:100%; height:100%; display:block; filter: drop-shadow(0 2px 0 var(--stroke)); }
    .corner--left{ left:clamp(10px, 2.2vmin, 24px); }
    .corner--right{ right:clamp(10px, 2.2vmin, 24px); }

    /* Start Button - placed exactly where it appears on the image */
    .cta-wrap{
      position:absolute;
      left:50%;
      top:73%; /* vertical position relative to image */
      transform:translate(-50%, -50%);
      width:min(55vw, 500px); /* matches graphic width */
    }
    .cta{
      display:flex; align-items:center; justify-content:center;
      width:100%;
      min-height:clamp(48px, 8vmin, 90px);
      border-radius:20px;
      background:var(--btn-bg);
      color:var(--btn-text);
      font-weight:900;
      letter-spacing:.02em;
      text-transform:uppercase;
      text-decoration:none;
      border:3px solid #000;
      box-shadow:
        0 8px 0 #000,
        0 12px 20px var(--btn-shadow);
      padding:.7em 1em;
      font-size: clamp(18px, 3.5vmin, 40px);
      -webkit-tap-highlight-color: transparent;
      transition:transform .06s ease-out, box-shadow .06s ease-out, filter .06s ease-out;
      text-align:center;
    }
    .cta:active{
      transform:translate(-50%, -48%);
      box-shadow:
        0 5px 0 #000,
        0 8px 14px var(--btn-shadow);
      filter:brightness(1.02);
    }
    @media (orientation:landscape){
      .cta-wrap{ top:86%; width:min(40vw, 400px); }
    }
  </style>
</head>
<body>
  <main class="stage">

    <!-- Settings -->
    <a class="corner corner--left" href="settings.html" aria-label="Settings">
      <svg viewBox="0 0 24 24"><path fill="#ffffff" d="M10.325 2.317a1.75 1.75 0 0 1 3.35 0l.214.86a1.75 1.75 0 0 0 2.3 1.24l.837-.28a1.75 1.75 0 0 1 2.17 1.06l.02.053a1.75 1.75 0 0 1-.63 2.02l-.701.52a1.75 1.75 0 0 0 0 2.82l.701.52c.72.53 1.02 1.47.63 2.3l-.02.04a1.75 1.75 0 0 1-2.17 1.06l-.837-.28a1.75 1.75 0 0 0-2.3 1.24l-.214.86a1.75 1.75 0 0 1-3.35 0l-.214-.86a1.75 1.75 0 0 0-2.3-1.24l-.837.28a1.75 1.75 0 0 1-2.17-1.06l-.02-.04a1.75 1.75 0 0 1 .63-2.3l.701-.52a1.75 1.75 0 0 0 0-2.82l-.701-.52a1.75 1.75 0 0 1-.63-2.02l.02-.053a1.75 1.75 0 0 1 2.17-1.06l.837.28a1.75 1.75 0 0 0 2.3-1.24zM12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg>
    </a>

    <!-- Help -->
    <a class="corner corner--right" href="help.html" aria-label="Help">
      <svg viewBox="0 0 24 24"><path fill="#ffffff" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 17.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zM12 6a4 4 0 0 1 4 4c0 1.77-1.08 2.7-2.23 3.67-.31.26-.62.51-.86.78-.26.29-.41.58-.41 1.05v.25h-2v-.37c0-1.08.39-1.83.99-2.43.33-.33.72-.63 1.08-.93.92-.78 1.43-1.29 1.43-2.02A2 2 0 0 0 12 8a2.08 2.08 0 0 0-2.14 1.75H7.73A4.08 4.08 0 0 1 12 6z"/></svg>
    </a>

    <!-- Start Button -->
    <div class="cta-wrap">
      <a class="cta" href="login.html" id="startBtn">Click here to start</a>
    </div>
  </main>
  <!-- Toast notification -->
  <div class="toast" id="toast" style="display:none"></div>

  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/session.js"></script>
  <script>
    // Initialize index page
    document.addEventListener('DOMContentLoaded', () => {
      // Initialize session manager
      Session.init();

      // Add keyboard navigation with accessibility
      document.addEventListener('keydown', (e) => {
        const key = e.key.toLowerCase();
        if (key === 'enter' || key === ' ') {
          e.preventDefault();
          const start = Utils.$('#startBtn');
          if (start) {
            start.click();
            start.focus();
          }
        }
      });

      // Add loading state for start button
      const startBtn = Utils.$('#startBtn');
      if (startBtn) {
        startBtn.addEventListener('click', (e) => {
          e.preventDefault();
          startBtn.textContent = 'Loading...';
          startBtn.style.pointerEvents = 'none';

          // Simulate loading delay then navigate
          setTimeout(() => {
            window.location.href = 'login.html';
          }, 500);
        });
      }

      // Check for any existing session and show appropriate message
      if (Session.isAuthenticated()) {
        Utils.showToast('You have an active session', 'ok');
      }
    });
  </script>
</body>
</html>
